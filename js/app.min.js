(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function addTouchAttr(){isMobile.any()&&document.documentElement.setAttribute("data-fls-touch","")}function getHash(){if(location.hash)return location.hash.replace("#","")}let slideUp=(e,t=500,s=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!s,s||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),s||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},slideDown=(e,t=500,s=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,s&&e.style.removeProperty("height");let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}},slideToggle=(e,t=500)=>e.hidden?slideDown(e,t):slideUp(e,t),bodyLockStatus=!0,bodyLockToggle=(e=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?bodyUnlock(e):bodyLock(e)},bodyUnlock=(e=500)=>{if(bodyLockStatus){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(s=>{s.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},e)}},bodyLock=(e=500)=>{if(bodyLockStatus){const t=document.querySelectorAll("[data-fls-lp]"),s=window.innerWidth-document.body.offsetWidth+"px";t.forEach(o=>{o.style.paddingRight=s}),document.body.style.paddingRight=s,document.documentElement.setAttribute("data-fls-scrolllock",""),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},e)}};function uniqArray(e){return e.filter((t,s,o)=>o.indexOf(t)===s)}function dataMediaQueries(e,t){const s=Array.from(e).filter(n=>n.dataset[t]).map(n=>{const[i,l="max"]=n.dataset[t].split(",");return{value:i,type:l,item:n}});if(s.length===0)return[];const o=s.map(({value:n,type:i})=>`(${i}-width: ${n}px),${n},${i}`);return[...new Set(o)].map(n=>{const[i,l,a]=n.split(","),c=window.matchMedia(i);return{itemsArray:s.filter(u=>u.value===l&&u.type===a),matchMedia:c}})}const gotoBlock=(e,t=!1,s=500,o=0)=>{const r=document.querySelector(e);if(!r)return;let n=0;if(t){const d=document.querySelector("header.header");d&&(d.classList.contains("--header-scroll")?n=d.offsetHeight:(d.style.cssText="transition-duration: 0s;",d.classList.add("--header-scroll"),n=d.offsetHeight,d.classList.remove("--header-scroll"),setTimeout(()=>{d.style.cssText=""},0)))}document.documentElement.hasAttribute("data-fls-menu-open")&&(bodyUnlock(),document.documentElement.removeAttribute("data-fls-menu-open"));let i=r.getBoundingClientRect().top+scrollY;n&&(i-=n),o&&(i-=o);const l=window.scrollY,a=i-l,c=performance.now();function m(d){return d<.5?2*d*d:-1+(4-2*d)*d}function u(d){const h=d-c,p=Math.min(h/s,1),f=m(p);window.scrollTo(0,l+a*f),p<1&&requestAnimationFrame(u)}requestAnimationFrame(u)};function spollers(){const e=document.querySelectorAll("[data-fls-spollers]");if(e.length>0){let n=function(u,d=!1){u.forEach(h=>{h=d?h.item:h,d.matches||!d?(h.classList.add("--spoller-init"),i(h)):(h.classList.remove("--spoller-init"),i(h,!1))})},i=function(u,d=!0){let h=u.querySelectorAll("details");h.length&&h.forEach(p=>{let f=p.querySelector("summary");d?(f.removeAttribute("tabindex"),p.hasAttribute("data-fls-spollers-open")?(f.classList.add("--spoller-active"),p.open=!0):(p.open=!1,f.nextElementSibling.hidden=!0)):(f.classList.remove("--spoller-active"),p.open=!0,f.nextElementSibling.hidden=!1)})},l=function(u){const d=u.target;if(d.closest("summary")&&d.closest("[data-fls-spollers]")&&(u.preventDefault(),d.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const h=d.closest("summary"),p=h.closest("details"),f=h.closest("[data-fls-spollers]"),y=f.hasAttribute("data-fls-spollers-one"),w=p.hasAttribute("data-fls-spollers-scroll"),E=f.dataset.flsSpollersSpeed?parseInt(f.dataset.flsSpollersSpeed):500;if(!f.querySelectorAll(".--slide").length&&(y&&!p.open&&a(f),p.open?setTimeout(()=>{p.open=!1},E):p.open=!0,h.classList.toggle("--spoller-active"),slideToggle(h.nextElementSibling,E),w&&h.classList.contains("--spoller-active"))){const b=p.dataset.flsSpollersScroll,L=+b?+b:0,O=p.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:p.offsetTop-(L+O),behavior:"smooth"})}}if(!d.closest("[data-fls-spollers]")){const h=document.querySelectorAll("[data-fls-spollers-close]");h.length&&h.forEach(p=>{const f=p.closest("[data-fls-spollers]"),y=p.parentNode;if(f.classList.contains("--spoller-init")){const w=f.dataset.flsSpollersSpeed?parseInt(f.dataset.flsSpollersSpeed):500;p.classList.remove("--spoller-active"),slideUp(p.nextElementSibling,w),setTimeout(()=>{y.open=!1},w)}})}},a=function(u){const d=u.querySelector("details[open]");if(d&&!u.querySelectorAll(".--slide").length){const h=d.querySelector("summary"),p=u.dataset.flsSpollersSpeed?parseInt(u.dataset.flsSpollersSpeed):500;h.classList.remove("--spoller-active"),slideUp(h.nextElementSibling,p),setTimeout(()=>{d.open=!1},p)}};var t=n,s=i,o=l,r=a;document.addEventListener("click",l);const c=Array.from(e).filter(function(u,d,h){return!u.dataset.flsSpollers.split(",")[0]});c.length&&n(c);let m=dataMediaQueries(e,"flsSpollers");m&&m.length&&m.forEach(u=>{u.matchMedia.addEventListener("change",function(){n(u.itemsArray,u.matchMedia)}),n(u.itemsArray,u.matchMedia)})}}window.addEventListener("load",spollers);function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".scroll-to-top");e&&(e.addEventListener("click",scrollToTop),window.addEventListener("scroll",function(){window.scrollY>200?e.classList.add("show"):e.classList.remove("show")}))});const menuButton=document.querySelector("[data-fls-menu]"),menu=document.querySelector(".menu");function menuInit(){document.addEventListener("click",function(e){if(e.target.closest("[data-fls-menu]")&&bodyLockStatus){bodyLockToggle(),document.documentElement.toggleAttribute("data-fls-menu-open"),document.documentElement.hasAttribute("data-fls-menu-open")||closeAllSubmenus();return}window.innerWidth>768&&menu&&!menu.contains(e.target)&&closeAllSubmenus()}),updateMenuArrowHandlers(),window.addEventListener("resize",()=>{window.innerWidth>768&&(closeAllSubmenus(),document.documentElement.hasAttribute("data-fls-menu-open")&&(document.documentElement.removeAttribute("data-fls-menu-open"),bodyUnlock()))})}function closeAllSubmenus(){document.querySelectorAll(".menu__item._active").forEach(e=>{e.classList.remove("_active")})}function handleMenuArrowsClick(e){const t=e.target.closest(".menu__arrow-box");if(!t)return;e.stopPropagation();const s=t.closest(".menu__item");if(!s)return;const o=s.classList.contains("_active");window.innerWidth>768&&closeAllSubmenus(),s.classList.toggle("_active",!o)}function updateMenuArrowHandlers(){document.querySelectorAll(".menu__arrow-box").forEach(e=>{const t=e.cloneNode(!0);e.replaceWith(t),t.addEventListener("click",handleMenuArrowsClick)})}menuButton&&window.addEventListener("load",menuInit);function headerScroll(){const e=document.querySelector("[data-fls-header-scroll]"),t=e.hasAttribute("data-fls-header-scroll-show"),s=e.dataset.flsHeaderScrollShow?e.dataset.flsHeaderScrollShow:500,o=e.dataset.flsHeaderScroll?e.dataset.flsHeaderScroll:1;let r=0,n;document.addEventListener("scroll",function(i){const l=window.scrollY;clearTimeout(n),l>=o?(e.classList.contains("--header-scroll")||e.classList.add("--header-scroll"),t&&(l>r?e.classList.contains("--header-show")&&e.classList.remove("--header-show"):e.classList.contains("--header-show")||e.classList.add("--header-show"),n=setTimeout(()=>{e.classList.contains("--header-show")||e.classList.add("--header-show")},s))):(e.classList.contains("--header-scroll")&&e.classList.remove("--header-scroll"),t&&e.classList.contains("--header-show")&&e.classList.remove("--header-show")),r=l<=0?0:l})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",headerScroll);class ScrollWatcher{constructor(t){let s={logging:!0};this.config=Object.assign(s,t),this.observer,document.documentElement.classList.contains("watcher")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(t){t.length&&uniqArray(Array.from(t).map(function(o){if(o.dataset.flsWatcher==="navigator"&&!o.dataset.flsWatcherThreshold){let r;o.clientHeight>2?(r=window.innerHeight/2/(o.clientHeight-1),r>1&&(r=1)):r=1,o.setAttribute("data-fls-watcher-threshold",r.toFixed(2))}return`${o.dataset.flsWatcherRoot?o.dataset.flsWatcherRoot:null}|${o.dataset.flsWatcherMargin?o.dataset.flsWatcherMargin:"0px"}|${o.dataset.flsWatcherThreshold?o.dataset.flsWatcherThreshold:0}`})).forEach(o=>{let r=o.split("|"),n={root:r[0],margin:r[1],threshold:r[2]},i=Array.from(t).filter(function(a){let c=a.dataset.flsWatcherRoot?a.dataset.flsWatcherRoot:null,m=a.dataset.flsWatcherMargin?a.dataset.flsWatcherMargin:"0px",u=a.dataset.flsWatcherThreshold?a.dataset.flsWatcherThreshold:0;if(String(c)===n.root&&String(m)===n.margin&&String(u)===n.threshold)return a}),l=this.getScrollWatcherConfig(n);this.scrollWatcherInit(i,l)})}getScrollWatcherConfig(t){let s={};if(document.querySelector(t.root)?s.root=document.querySelector(t.root):t.root,s.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if(t.threshold==="prx"){t.threshold=[];for(let o=0;o<=1;o+=.005)t.threshold.push(o)}else t.threshold=t.threshold.split(",");return s.threshold=t.threshold,s}}scrollWatcherCreate(t){this.observer=new IntersectionObserver((s,o)=>{s.forEach(r=>{this.scrollWatcherCallback(r,o)})},t)}scrollWatcherInit(t,s){this.scrollWatcherCreate(s),t.forEach(o=>this.observer.observe(o))}scrollWatcherIntersecting(t,s){t.isIntersecting?s.classList.contains("--watcher-view")||s.classList.add("--watcher-view"):s.classList.contains("--watcher-view")&&s.classList.remove("--watcher-view")}scrollWatcherOff(t,s){s.unobserve(t)}scrollWatcherCallback(t,s){const o=t.target;this.scrollWatcherIntersecting(t,o),o.hasAttribute("data-fls-watcher-once")&&t.isIntersecting&&this.scrollWatcherOff(o,s),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new ScrollWatcher({}));function pageNavigation(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),document.addEventListener("click",e),document.addEventListener("watcherCallback",e);function e(s){var o;const r=s.target;if(s.type==="click"&&r.closest("[data-fls-scrollto]")){const n=r.closest("[data-fls-scrollto]"),i=n.dataset.flsScrollto||"",l=i.includes(".html#"),a=n.hasAttribute("data-fls-scrollto-header"),c=n.dataset.flsScrolltoSpeed?parseInt(n.dataset.flsScrolltoSpeed):500,m=n.dataset.flsScrolltoTop?parseInt(n.dataset.flsScrolltoTop):0;if(l){s.preventDefault(),sessionStorage.setItem("scrollToHash",JSON.stringify({hash:i.split("#")[1],offsetTop:m,noHeader:a,speed:c})),window.location.href=i;return}if(window.fullpage){const u=(o=document.querySelector(`${i}`))==null?void 0:o.closest("[data-fls-fullpage-section]"),d=u?+u.dataset.flsFullpageId:null;d!==null&&(window.fullpage.switchingSection(d),document.documentElement.hasAttribute("data-fls-menu-open")&&(bodyUnlock(),document.documentElement.removeAttribute("data-fls-menu-open")))}else gotoBlock(i,a,c,m);s.preventDefault()}if(s.type==="watcherCallback"&&s.detail){const n=s.detail.entry,i=n.target;if(i.dataset.flsWatcher==="navigator"){document.querySelector("[data-fls-scrollto].--navigator-active");let l;if(i.id&&document.querySelector(`[data-fls-scrollto="#${i.id}"]`))l=document.querySelector(`[data-fls-scrollto="#${i.id}"]`);else if(i.classList.length)for(let a=0;a<i.classList.length;a++){const c=i.classList[a];if(document.querySelector(`[data-fls-scrollto=".${c}"]`)){l=document.querySelector(`[data-fls-scrollto=".${c}"]`);break}}n.isIntersecting?l?.classList.add("--navigator-active"):l?.classList.remove("--navigator-active")}}}function t(){const s=getHash(),o=sessionStorage.getItem("scrollToHash");let r=0,n=!1,i=500,l="";if(o){try{const a=JSON.parse(o);r=a.offsetTop||0,n=a.noHeader||!1,i=a.speed||500,l=a.hash?`#${a.hash}`:""}catch{}sessionStorage.removeItem("scrollToHash")}else s&&(l=`#${s}`);if(l){scrollTo(0,0);const a=()=>{document.querySelector(l)?(gotoBlock(l,n,i,r),history.replaceState(null,"",window.location.pathname)):requestAnimationFrame(a)};a()}}t()}document.querySelector("[data-fls-scrollto]")&&window.addEventListener("load",pageNavigation);function preloader(){const e=document.querySelectorAll("img"),t=document.documentElement,s=localStorage.getItem(location.href)&&document.querySelector('[data-fls-preloader="true"]');if(e.length&&!s){let i=function(f){c&&(c.innerText=`${f}%`),m&&(m.style.width=`${f}%`)},l=function(){u++,h=Math.round(100/e.length*u);const f=setInterval(()=>{d>=h?clearInterval(f):i(++d),d>=100&&n()},10)};var o=i,r=l;document.body.insertAdjacentHTML("beforeend",`
			<div class="fls-preloader">
				<div class="fls-preloader__body">
					<div class="fls-preloader__counter">0%</div>
					<div class="fls-preloader__line"><span></span></div>
				</div>
			</div>`),document.querySelector(".fls-preloader");const c=document.querySelector(".fls-preloader__counter"),m=document.querySelector(".fls-preloader__line span");let u=0,d=0,h=0;t.setAttribute("data-fls-preloader-loading",""),t.setAttribute("data-fls-scrolllock",""),e.forEach(f=>{const y=document.createElement("img");y&&(y.onload=l,y.onerror=l,f.dataset.src?y.src=f.dataset.src:y.src=f.src)}),i(h);const p=()=>localStorage.setItem(location.href,"preloaded");document.querySelector('[data-fls-preloader="true"]')&&p()}else n();function n(){t.setAttribute("data-fls-preloader-loaded",""),t.removeAttribute("data-fls-preloader-loading"),t.removeAttribute("data-fls-scrolllock")}}document.addEventListener("DOMContentLoaded",preloader);const marquee=()=>{const e=document.querySelectorAll("[data-fls-marquee]"),t={inner:"data-fls-marquee-inner",item:"data-fls-marquee-item"};if(!e.length)return;const{head:s}=document,o=(l,a)=>{let c;return(...m)=>{c&&clearTimeout(c),c=setTimeout(()=>{a(...m),c=null},l)}},r=l=>{if(!l&&!isFunction(l))return;let a=0;const c=()=>{const m=window.innerWidth;a!==m&&(a=m,l())};window.addEventListener("resize",o(50,c)),c()},n=l=>{if(!l)return;const a=l,c=a.children;if(!c.length)return;Array.from(c).forEach(u=>u.setAttribute(t.item,""));const m=`<div ${t.inner}>${a.innerHTML}</div>`;a.innerHTML=m},i=(l,a)=>a?l.offsetHeight:l.offsetWidth;e.forEach(l=>{var a;if(!l)return;n(l);const c=l.firstElementChild;let m=[];if(!c)return;const u=parseFloat(l.getAttribute("data-fls-marquee-space")),d=l.querySelectorAll(`[${t.item}]`),h=parseFloat(l.getAttribute("data-fls-marquee-speed"))/10||100,p=l.hasAttribute("data-fls-marquee-pause"),f=l.getAttribute("data-fls-marquee-direction"),y=f==="bottom"||f==="top",w=`marqueeAnimation-${Math.floor(Math.random()*1e7)}`;let E=parseFloat((a=window.getComputedStyle(d[0]))==null?void 0:a.getPropertyValue("margin-right")),b=E||(isNaN(u)?30:u),L=parseFloat(l.getAttribute("data-fls-marquee-start"))||0,O=0,A=0,x=0,k=c.children.length,P=0,C=0;const W=()=>{L&&c.addEventListener("animationiteration",$),p&&(c.removeEventListener("mouseenter",_),c.removeEventListener("mouseleave",_),c.addEventListener("mouseenter",_),c.addEventListener("mouseleave",_))},$=()=>{L=0,c.removeEventListener("animationiteration",$),H()},M=g=>{let v="display: flex; flex-wrap: nowrap;";y?(v+=`
				flex-direction: column;
				position: relative;
				will-change: transform;`,f==="bottom"&&(v+=`top: -${g}px;`)):(v+=`
				position: relative;
				will-change: transform;`,f==="right"&&(v+=`inset-inline-start: -${g}px;;`)),c.style.cssText=v},B=g=>{switch(f){case"right":case"bottom":return g;default:return-g}},D=()=>{const g=`@keyframes ${w} {
					 0% {
						 transform: translate${y?"Y":"X"}(${!y&&window.stateRtl?-L:L}%);
					 }
					 100% {
						 transform: translate${y?"Y":"X"}(${B(!y&&window.stateRtl?-A:A)}px);
					 }
				 }`,v=document.createElement("style");v.classList.add(w),v.innerHTML=g,s.append(v),c.style.animation=`${w} ${(A+L*A/100)/h}s infinite linear`},F=()=>{O=A=x=C=P=0;const g=i(l,y);let v=Array.from(c.children);if(!v.length)return;m.length?v=[...m]:m=v.map(S=>S),c.style.display="flex",y&&(c.style.flexDirection="column"),c.innerHTML="",v.forEach(S=>{c.append(S)}),v.forEach(S=>{y?S.style.marginBottom=`${b}px`:(S.style.marginRight=`${b}px`,S.style.flexShrink=0);const T=i(S,y);return O+=T+b,A+=T+b,x+=T+b,C+=1,T});const q=g*2+x;for(;O<q;P+=1){v[P]||(P=0);const S=v[P].cloneNode(!0),T=c.children[P];c.append(S),O+=i(T,y)+b,(A<g||C%k!==0)&&(C+=1,A+=i(T,y)+b)}M(A)},N=()=>{E&&(d.forEach(g=>g.style.removeProperty("margin-right")),E=parseFloat(window.getComputedStyle(d[0]).getPropertyValue("margin-right")),b=E||(isNaN(u)?30:u))},z=()=>{N(),F(),D(),W()},H=()=>{var g;(g=s.querySelector(`.${w}`))==null||g.remove(),z()},_=g=>{const{type:v,target:q}=g;q.style.animationPlayState=v==="mouseenter"?"paused":"running"};r(H)})};marquee(),addTouchAttr();class Popup{constructor(t){let s={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...s,...t,classes:{...s.classes,...t?.classes},hashSettings:{...s.hashSettings,...t?.hashSettings},on:{...s.on,...t?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",function(t){const s=t.target.closest(`[${this.options.attributeOpenButton}]`);if(s){if(t.preventDefault(),this._dataValue=s.getAttribute(this.options.attributeOpenButton)?s.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=s.getAttribute(this.options.youtubeAttribute)?s.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=s),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(t.target.closest(`[${this.options.attributeCloseButton}]`)||!t.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){t.preventDefault(),this.close();return}}.bind(this)),document.addEventListener("keydown",function(t){if(this.options.closeEsc&&t.which==27&&t.code==="Escape"&&this.isOpen){t.preventDefault(),this.close();return}if(this.options.focusCatch&&t.which==9&&this.isOpen){this._focusCatch(t);return}}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.location.hash&&this._openToHash())}open(t){if(bodyLockStatus&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),t&&typeof t=="string"&&t.trim()!==""&&(this.targetOpen.selector=t,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const s=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(s){const o=`https://www.youtube.com/embed/${s}?rel=0&showinfo=0&autoplay=1`,r=document.createElement("iframe"),n=this.options.setAutoplayYoutube?"autoplay;":"";r.setAttribute("allowfullscreen",""),r.setAttribute("allow",`${n}; encrypted-media`),r.setAttribute("src",o),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(r)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||bodyLock(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(t){t&&typeof t=="string"&&t.trim()!==""&&(this.previousOpen.selector=t),!(!this.isOpen||!bodyLockStatus)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||bodyUnlock(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let t=window.location.hash.replace("#","");const s=document.querySelector(`[${this.options.attributeOpenButton}="${t}"]`);s&&(this.youTubeCode=s.getAttribute(this.options.youtubeAttribute)?s.getAttribute(this.options.youtubeAttribute):null),t&&this.open(t)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(t){const s=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(s),r=o.indexOf(document.activeElement);t.shiftKey&&r===0&&(o[o.length-1].focus(),t.preventDefault()),!t.shiftKey&&r===o.length-1&&(o[0].focus(),t.preventDefault())}_focusTrap(){const t=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():t[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new Popup({}));let formValidate={getErrors(e){let t=0,s=e.querySelectorAll("[required]");return s.length&&s.forEach(o=>{(o.offsetParent!==null||o.tagName==="SELECT")&&!o.disabled&&(t+=this.validateInput(o))}),t},validateInput(e){let t=0;return e.type==="email"?(e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),this.removeSuccess(e),t++):(this.removeError(e),this.addSuccess(e))):e.type==="checkbox"&&!e.checked?(this.addError(e),this.removeSuccess(e),t++):e.value.trim()?(this.removeError(e),this.addSuccess(e)):(this.addError(e),this.removeSuccess(e),t++),t},addError(e){e.classList.add("--form-error"),e.parentElement.classList.add("--form-error");let t=e.parentElement.querySelector("[data-fls-form-error]");t&&e.parentElement.removeChild(t),e.dataset.flsFormErrtext&&e.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${e.dataset.flsFormErrtext}</div>`)},removeError(e){e.classList.remove("--form-error"),e.parentElement.classList.remove("--form-error"),e.parentElement.querySelector("[data-fls-form-error]")&&e.parentElement.removeChild(e.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(e){e.classList.add("--form-success"),e.parentElement.classList.add("--form-success")},removeSuccess(e){e.classList.remove("--form-success"),e.parentElement.classList.remove("--form-success")},formClean(e){e.reset(),setTimeout(()=>{let t=e.querySelectorAll("input,textarea");for(let o=0;o<t.length;o++){const r=t[o];r.parentElement.classList.remove("--form-focus"),r.classList.remove("--form-focus"),formValidate.removeError(r)}let s=e.querySelectorAll('input[type="checkbox"]');if(s.length&&s.forEach(o=>{o.checked=!1}),window.flsSelect){let o=e.querySelectorAll("select[data-fls-select]");o.length&&o.forEach(r=>{window.flsSelect.selectBuild(r)})}},0)},emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}};function formInit(){function e(){const s=document.forms;if(s.length)for(const n of s)n.hasAttribute("data-fls-form-novalidate")||n.setAttribute("novalidate",!0),n.addEventListener("submit",function(i){const l=i.target;o(l,i)}),n.addEventListener("reset",function(i){const l=i.target;formValidate.formClean(l)});async function o(n,i){if(formValidate.getErrors(n)===0)if(n.dataset.flsForm==="ajax"){i.preventDefault();const a=n.getAttribute("action")?n.getAttribute("action").trim():"#",c=n.getAttribute("method")?n.getAttribute("method").trim():"GET",m=new FormData(n);n.classList.add("--sending");const u=await fetch(a,{method:c,body:m});if(u.ok){let d=await u.json();n.classList.remove("--sending"),r(n,d)}else n.classList.remove("--sending")}else n.dataset.flsForm==="dev"&&(i.preventDefault(),r(n));else if(i.preventDefault(),n.querySelector(".--form-error")&&n.hasAttribute("data-fls-form-gotoerr")){const a=n.dataset.flsFormGotoerr?n.dataset.flsFormGotoerr:".--form-error";gotoBlock(a)}}function r(n,i=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:n}})),setTimeout(()=>{if(window.flsPopup){const l=n.dataset.flsFormPopup;l&&window.flsPopup.open(l)}},0),formValidate.formClean(n)}}function t(){document.body.addEventListener("focusin",function(s){const o=s.target;(o.tagName==="INPUT"||o.tagName==="TEXTAREA")&&(o.hasAttribute("data-fls-form-nofocus")||(o.classList.add("--form-focus"),o.parentElement.classList.add("--form-focus")),formValidate.removeError(o),o.hasAttribute("data-fls-form-validatenow")&&formValidate.removeError(o))}),document.body.addEventListener("focusout",function(s){const o=s.target;(o.tagName==="INPUT"||o.tagName==="TEXTAREA")&&(o.hasAttribute("data-fls-form-nofocus")||(o.classList.remove("--form-focus"),o.parentElement.classList.remove("--form-focus")),o.hasAttribute("data-fls-form-validatenow")&&formValidate.validateInput(o))})}e(),t()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",formInit);
